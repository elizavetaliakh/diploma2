<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Database structure</title>
    <link rel="stylesheet" href="css/dbstyles.css" />
    <script src="js/app.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>
<body onload="loadDbStructure()">
<div class="divUpper">
    <label for="tables" style="padding-right: 5px">Выберите таблицу:</label>
    <select id="tables" name="tables" class="selectStyle" onchange="drawTable()">
        <option value="none">-</option>
        <option value="operations">operations</option>
    </select>
</div>
<div class="sidenav">
    <a href="dbstructure.html">Структура БД</a>
    <a href="pieChart.html">Круговая диаграмма</a>
    <a href="barChart.html">Столбчатая диаграмма</a>
    <a href="lineChart.html">Линейная диаграмма</a>
    <a href="reports.html">Конструктор отчетов</a>
</div>
<div class="main">
    <div class="queryConstructorDiv">
        <div style="width: 50%; display: inline-block;">
            <p style="padding-bottom: 5px;">Конструктор SQL запроса:</p>
            <table style="border: 0px; table-layout: fixed; border-collapse: collapse;">
                <tr>
                    <td style="padding: 2px;">SELECT</td>
                    <td style="padding: 2px;"><input type="text" id="select" name="select" required minlength="1" size="20"/></td>
                </tr>
                <tr>
                    <td style="padding: 2px;">DISTINCT</td>
                    <td style="padding: 2px;">
                        <label class="switch">
                            <input type="checkbox" id="distinct">
                            <span class="slider round"></span>
                        </label>
                    </td>
                </tr>
                <tr>
                    <td style="padding: 2px;">FROM</td>
                    <td style="padding: 2px;"><input type="text" id="from" name="from" required minlength="1" size="20"/></td>
                </tr>
                <tr>
                    <td style="padding: 2px;">WHERE</td>
                    <td style="padding: 2px;"><input type="text" id="where" name="where" required minlength="1" size="20"/></td>
                </tr>
                <tr>
                    <td style="padding: 2px;">AND</td>
                    <td style="padding: 2px;">
                        <label class="switch">
                            <input type="checkbox" id="and">
                            <span class="slider round"></span>
                        </label>
                    </td>
                </tr>
                <tr>
                    <td style="padding: 2px;">GROUP BY</td>
                    <td style="padding: 2px;"><input type="text" id="groupBy" name="groupBy" required minlength="1" size="20"/></td>
                </tr>
                <tr>
                    <td style="padding: 2px;">ORDER BY</td>
                    <td style="padding: 2px;"><input type="text" id="orderBy" name="orderBy" required minlength="1" size="20"/></td>
                </tr>
            </table>
            <p style="padding-bottom: 5px;">
                <button class="buttons" type="button" id="makeQuery" name="makeQuery" width="15px" height="10px" onclick="makeQuery()">Сформировать</button>
            </p>
            <textarea id="sqlText" name="sqlText" style="font-size:16px;
            height: 150px;
            width: 98%;
            resize: none;" ></textarea>
            <div style="display: flex; padding-left: 65%; padding-top: 5px;">
                <div style="display: inline-block; padding-right: 5px;"><button class="buttons" type="button" id="saveQuery" name="saveQuery" width="15px" height="10px" onclick="saveQuery()">Сохранить</button></div>
                <div style="display: inline-block;"><button class="buttons" type="button" id="executeQuery" name="executeQuery" width="15px" height="10px" onclick="executeQuery()">Выполнить</button></div>
            </div>
        </div>
        <div style="width: 50%; display: inline-block;">
            <p style="padding-bottom: 5px;">История запросов:</p>
            <textarea id="sqlHistory" name="sqlHistory"
                      style="font-size:16px;
            height: 375px;
            width: 98%;
            resize: none;" ></textarea>
        </div>
    </div>
</div>
<div  style="padding-top: 10px;" class="divTable">
    <table class="tableOutput" id="tableDb">
    </table>
</div>
</body>
</html>
